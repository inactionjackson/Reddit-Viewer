(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n.p+"static/media/playSymbol.5a980e83.png"},16:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),l=n.n(c),i=(n(22),n(4)),o=n(2),u=n(3),s=n.n(u),m=(n(40),n(15)),d=n.n(m);function p(e){var t=e.data,n=e.id,a=e.selectPost,c=(e.screenHeight,null);t.preview&&(c=function(e){if(!e)return null;var t=window.screen.height/2,n=-1,a=-1;return e[0].resolutions.forEach(function(e,r){if(e.width>=400&&e.height>=t){var c=Math.abs(e.width-400);(c<a||a<0)&&(n=r,a=c)}}),(-1!==n?e[0].resolutions[n].url:e[0].source.url).replace(/amp;/g,"")}(t.preview.images));var l=!!t.preview.images[0].variants.gif,i=""===t.selftext,o=t.title.substring(0,40);o+=t.title.length>o.length?"...":"";return r.a.createElement("div",{className:"postThumb"},r.a.createElement("div",{className:"postThumb_main",onClick:function(){a(n)}},l?r.a.createElement("img",{src:d.a,alt:"play gif",className:"playSymbol"}):"",c?r.a.createElement("img",{src:c,alt:t.title}):r.a.createElement("div",{className:"postThumb_text"},r.a.createElement("p",null,i?o:t.selftext.substring(0,80)+"...")," "),r.a.createElement("div",{className:"postThumb_smallTitle"},r.a.createElement("p",null,o+" : ",r.a.createElement("a",{href:"http://reddit.com/u/"+t.author},"u/",t.author)))))}function f(e){var t=e.data,n=e.deselectPost,a="";t.preview&&(a=t.preview.images[0].variants.gif?t.preview.images[0].variants.gif.source.url.replace(/amp;/g,""):t.preview.images[0].source.url.replace(/amp;/g,""));var c=t.title,l=null;return t.selftext&&(l=t.selftext.split("\n")),r.a.createElement("div",{className:"postFull_backing",onClick:function(){return n(null)}},r.a.createElement("div",{className:"postFull"},a?r.a.createElement("img",{src:a,alt:c}):r.a.createElement("div",null,l?l.map(function(e,t){return r.a.createElement("p",{key:t},e)}):c)))}function v(e){var t=e.currentSub,n=e.setSub,a="";return r.a.createElement("div",{className:"navbar"},r.a.createElement("p",null,"Reddit.com/r/"),r.a.createElement("input",{type:"text",placeholder:t,onChange:function(e){return a=e.target.value},onKeyUp:function(e){return function(e){"Enter"===e.key&&(n(a),e.target.value="")}(e)}}),r.a.createElement("button",{onClick:function(){return n(a)}},"View"))}var g=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],l=function(e){e=e.replace(/[\/, '\\[').replace(\/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("sub")||"aww",u=Object(a.useState)(l),m=Object(o.a)(u,2),d=m[0],g=m[1],E=Object(a.useState)(null),h=Object(o.a)(E,2),w=h[0],b=h[1],j=Object(a.useState)(!1),O=Object(o.a)(j,2),y=O[0],N=O[1],x=function e(){var t=document.getElementsByClassName("postsHolder");window.innerHeight+document.documentElement.scrollTop<t[0].offsetHeight||(window.removeEventListener("scroll",e),N(!0))};return Object(a.useEffect)(function(){return window.addEventListener("scroll",x),function(){return window.removeEventListener("scroll",x)}},[]),Object(a.useEffect)(function(){!function(){var e="http://localhost:5000/api/redditviewer/".concat(d);s.a.get(e).then(function(e){return e.data}).then(function(e){c(e)}).catch(function(e){return console.log(e)})}()},[d]),Object(a.useEffect)(function(){y&&(N(!1),function(){var e="http://localhost:5000/api/redditviewer/".concat(d,"/").concat(n[n.length-1].data.name);s.a.get(e).then(function(e){return e.data}).then(function(e){c([].concat(Object(i.a)(n),Object(i.a)(e))),window.addEventListener("scroll",x)}).catch(function(e){return console.log(e)})}())},[y]),r.a.createElement("div",{className:"app"},r.a.createElement(v,{currentSub:d,setSub:g}),r.a.createElement("div",{className:"postsHolder"},n.map(function(e,t){return r.a.createElement(p,{key:t,data:e.data,id:t,selectPost:b})})),null!==w?r.a.createElement(f,{data:n[w].data,deselectPost:b}):"")};l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ed9c5ae0.chunk.js.map